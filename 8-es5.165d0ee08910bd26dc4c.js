function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{fyF7:function(e,t,n){"use strict";n.r(t);var i,r,o,s,a,c=n("ofXK"),u=n("tyNb"),l=n("XNiG"),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):e.flush(this)}}]),n}(n("3N8a").a),f=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(n("IjjT").a))(d),h=n("quSY"),g=n("7o/Q"),p=n("EY2u"),b=n("LRne"),v=n("HDdC"),m=((i=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(b.a)(this.value);case"E":return e=this.error,new v.a((function(t){return t.error(e)}));case"C":return Object(p.b)()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new i("C"),i.undefinedValueNotification=new i("N",void 0),i),_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(r=t.call(this,e)).scheduler=i,r.delay=o,r}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new w(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(m.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(m.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(m.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(g.a),w=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n},y=n("9ppp"),C=n("Ylt2"),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=i<1?1:i,e._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new P(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new y.a;if(this.isStopped||this.hasError?t=h.a.EMPTY:(this.observers.push(e),t=new C.a(this,e)),r&&e.add(e=new _(e,r)),n)for(var s=0;s<o&&!e.closed;s++)e.next(i[s]);else for(var a=0;a<o&&!e.closed;a++)e.next(i[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||f).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i}}]),n}(l.a),P=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n},k=n("2Vo4"),N=n("SxV6"),M=n("fXoL"),I=function(){function e(t){var n,i=this;_classCallCheck(this,e),this.lazyLoad=!1,this.providers=new Map,this._ready=new O,(n=t)&&(n instanceof v.a||"function"==typeof n.lift&&"function"==typeof n.subscribe)?t.pipe(Object(N.a)()).subscribe((function(e){i.initialize(e)})):this.initialize(t)}return _createClass(e,[{key:"initialize",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.providers.set(n.id,n.provider),this.lazyLoad=this.lazyLoad||n.lazyLoad}this._ready.next(),this._ready.complete()}}]),e}(),R=((o=r=function(){function e(t){var n=this;_classCallCheck(this,e),this._user=null,this._authState=new O(1),this._readyState=new k.a([]),this.initialized=!1,t._ready.subscribe((function(){n.providers=t.providers,t.lazyLoad||n.initialize()}))}return _createClass(e,[{key:"initialize",value:function(){var e=this;this.initialized=!0,this.providers.forEach((function(t,n){t.initialize().then((function(){var i=e._readyState.getValue();i.push(n),e._readyState.next(i),t.getLoginStatus().then((function(t){t.provider=n,e._user=t,e._authState.next(t)})).catch((function(t){e._authState.next(null)}))}))}))}},{key:"signIn",value:function(e,t){var n=this;return this.initialized||this.initialize(),new Promise((function(i,o){var s=n.providers.get(e);s?s.signIn(t).then((function(t){t.provider=e,i(t),n._user=t,n._authState.next(t)})).catch((function(e){o(e)})):o(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}))}},{key:"signOut",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.initialized||this.initialize(),new Promise((function(n,i){if(e._user){var o=e.providers.get(e._user.provider);o?o.signOut(t).then((function(){n(),e._user=null,e._authState.next(null)})).catch((function(e){i(e)})):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_LOGGED_IN)}))}},{key:"authState",get:function(){return this._authState.asObservable()}},{key:"readyState",get:function(){return this._readyState.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||o)(M.Vb(I))},o.\u0275prov=M.Hb({token:o,factory:o.\u0275fac}),o.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",o.ERR_NOT_LOGGED_IN="Not logged in",o),x=((a=s=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}return _createClass(e,null,[{key:"initialize",value:function(e){return{ngModule:s,providers:[R,{provide:I,useValue:e}]}}}]),e}()).\u0275mod=M.Jb({type:a}),a.\u0275inj=M.Ib({factory:function(e){return new(e||a)(M.Vb(a,12))},providers:[R],imports:[[c.b]]}),a),S=function e(){_classCallCheck(this,e)},E=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scope:"email"};return _classCallCheck(this,n),(i=t.call(this)).clientId=e,i.opt=r,i}return _createClass(n,[{key:"initialize",value:function(){var e=this;return new Promise((function(t,i){e.loadScript(n.PROVIDER_ID,"https://apis.google.com/js/platform.js",(function(){gapi.load("auth2",(function(){e.auth2=gapi.auth2.init(Object.assign(Object.assign({},e.opt),{client_id:e.clientId})),e.auth2.then((function(){e._readyState.next(!0),t()})).catch((function(e){i(e)}))}))}))}))}},{key:"getLoginStatus",value:function(){var e=this;return new Promise((function(t,n){e.onReady().then((function(){if(e.auth2.isSignedIn.get()){var i=new S,r=e.auth2.currentUser.get().getBasicProfile(),o=e.auth2.currentUser.get().getAuthResponse(!0).access_token,s=e.auth2.currentUser.get().getAuthResponse(!0).id_token;i.id=r.getId(),i.name=r.getName(),i.email=r.getEmail(),i.photoUrl=r.getImageUrl(),i.firstName=r.getGivenName(),i.lastName=r.getFamilyName(),i.authToken=o,i.idToken=s,t(i)}else n("No user is currently logged in.")}))}))}},{key:"signIn",value:function(e){var t=this;return new Promise((function(n,i){t.onReady().then((function(){(e&&e.offline_access||t.opt&&t.opt.offline_access?t.auth2.grantOfflineAccess(e):t.auth2.signIn(e)).then((function(e){var i=new S,r=t.auth2.currentUser.get().getBasicProfile(),o=t.auth2.currentUser.get().getAuthResponse(!0).access_token,s=t.auth2.currentUser.get().getAuthResponse(!0).id_token;i.id=r.getId(),i.name=r.getName(),i.email=r.getEmail(),i.photoUrl=r.getImageUrl(),i.firstName=r.getGivenName(),i.lastName=r.getFamilyName(),i.authToken=o,i.idToken=s,e&&e.code&&(i.authorizationCode=e.code),n(i)}),(function(e){i("User cancelled login or did not fully authorize.")})).catch((function(e){i(e)}))}))}))}},{key:"signOut",value:function(e){var t=this;return new Promise((function(n,i){t.onReady().then((function(){(e?t.auth2.disconnect():t.auth2.signOut()).then((function(e){e?i(e):n()})).catch((function(e){i(e)}))}))}))}}]),n}(function(){function e(){_classCallCheck(this,e),this._readyState=new k.a(!1)}return _createClass(e,[{key:"onReady",value:function(){var e=this;return new Promise((function(t,n){e._readyState.subscribe((function(e){e&&t()}))}))}},{key:"loadScript",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("undefined"!=typeof document&&!document.getElementById(e)){var r=document.createElement("script");r.async=i,r.src=t,r.onload=n,document.head.appendChild(r)}}}]),e}());return e.PROVIDER_ID="GOOGLE",e}(),A=n("PSD3"),L=n.n(A),Q=n("cplz"),T=n("cxgq"),z=n("668k"),U=n("3Pt+");function V(e,t){1&e&&(M.Rb(0,"p",6),M.Ac(1," Sign Up with your Slot Blockr Account "),M.Qb())}function j(e,t){1&e&&(M.Rb(0,"p",6),M.Ac(1," Sign In with your Slot Blockr Account "),M.Qb())}function F(e,t){if(1&e){var n=M.Sb();M.Rb(0,"div",7),M.Rb(1,"div",8),M.Rb(2,"button",9),M.Zb("click",(function(){return M.sc(n),M.dc().loginWithFacebook()})),M.Ac(3," Sign Up with Facebook "),M.Qb(),M.Qb(),M.Rb(4,"div",8),M.Rb(5,"button",10),M.Zb("click",(function(){return M.sc(n),M.dc().signInWithGoogle()})),M.Ac(6," Sign Up with Google "),M.Qb(),M.Qb(),M.Mb(7,"hr"),M.Rb(8,"div",8),M.Rb(9,"input",11),M.Zb("input",(function(){return M.sc(n),M.dc().firstNameChanged("input")}))("focusin",(function(){return M.sc(n),M.dc().firstNameChanged("focusin")}))("focusout",(function(){return M.sc(n),M.dc().firstNameChanged("focusout")}))("ngModelChange",(function(e){return M.sc(n),M.dc().firstName=e})),M.Qb(),M.Rb(10,"input",12),M.Zb("input",(function(){return M.sc(n),M.dc().lastNameChanged("input")}))("focusin",(function(){return M.sc(n),M.dc().lastNameChanged("focusin")}))("focusout",(function(){return M.sc(n),M.dc().lastNameChanged("focusout")}))("ngModelChange",(function(e){return M.sc(n),M.dc().lastName=e})),M.Qb(),M.Qb(),M.Rb(11,"div",8),M.Rb(12,"input",13),M.Zb("ngModelChange",(function(e){return M.sc(n),M.dc().email=e}))("input",(function(){return M.sc(n),M.dc().emailChanged("input")}))("focusin",(function(){return M.sc(n),M.dc().emailChanged("focusin")}))("focusout",(function(){return M.sc(n),M.dc().emailChanged("focusout")})),M.Qb(),M.Qb(),M.Rb(13,"div",14),M.Rb(14,"input",15),M.Zb("ngModelChange",(function(e){return M.sc(n),M.dc().password=e}))("input",(function(){return M.sc(n),M.dc().passwordChanged("input")}))("focusin",(function(){return M.sc(n),M.dc().passwordChanged("focusin")}))("focusout",(function(){return M.sc(n),M.dc().passwordChanged("focusout")})),M.Qb(),M.Rb(15,"div",16),M.Rb(16,"img",17),M.Zb("click",(function(){return M.sc(n),M.dc().showPassword()})),M.Qb(),M.Qb(),M.Qb(),M.Rb(17,"div",8),M.Rb(18,"button",18),M.Zb("click",(function(){return M.sc(n),M.dc().signUpHelper()})),M.Ac(19,"Sign Up"),M.Qb(),M.Qb(),M.Rb(20,"div",19),M.Rb(21,"span"),M.Ac(22,"Already a member ? "),M.Rb(23,"a",20),M.Zb("click",(function(){return M.sc(n),M.dc().changeMode("login")})),M.Ac(24,"Sign In"),M.Qb(),M.Qb(),M.Qb(),M.Qb()}if(2&e){var i=M.dc();M.Ab(9),M.ic("ngModel",i.firstName),M.Ab(1),M.ic("ngModel",i.lastName),M.Ab(2),M.ic("ngModel",i.email),M.Ab(2),M.ic("type",i.passwordInputType)("ngModel",i.password)("type",i.show?"text":"password"),M.Ab(2),M.ic("src","../../assets/images/autorization/"+(i.show?"eye-icon.svg":"eye-open.svg"),M.uc)}}function D(e,t){if(1&e){var n=M.Sb();M.Rb(0,"div",21),M.Rb(1,"div",8),M.Rb(2,"button",9),M.Zb("click",(function(){return M.sc(n),M.dc().loginWithFacebook()})),M.Ac(3," Sign In with Facebook "),M.Qb(),M.Qb(),M.Rb(4,"div",8),M.Rb(5,"button",10),M.Zb("click",(function(){return M.sc(n),M.dc().signInWithGoogle()})),M.Ac(6," Sign In with Google "),M.Qb(),M.Qb(),M.Mb(7,"hr"),M.Rb(8,"div",8),M.Rb(9,"input",13),M.Zb("ngModelChange",(function(e){return M.sc(n),M.dc().email=e}))("input",(function(){return M.sc(n),M.dc().emailChanged("input")}))("focusin",(function(){return M.sc(n),M.dc().emailChanged("focusin")}))("focusout",(function(){return M.sc(n),M.dc().emailChanged("focusout")})),M.Qb(),M.Qb(),M.Rb(10,"div",14),M.Rb(11,"input",15),M.Zb("ngModelChange",(function(e){return M.sc(n),M.dc().password=e}))("input",(function(){return M.sc(n),M.dc().passwordChanged("input")}))("focusin",(function(){return M.sc(n),M.dc().passwordChanged("focusin")}))("focusout",(function(){return M.sc(n),M.dc().passwordChanged("focusout")})),M.Qb(),M.Rb(12,"div",16),M.Rb(13,"img",17),M.Zb("click",(function(){return M.sc(n),M.dc().showPassword()})),M.Qb(),M.Qb(),M.Qb(),M.Rb(14,"div",8),M.Rb(15,"button",22),M.Zb("click",(function(){return M.sc(n),M.dc().signInHelper()})),M.Ac(16,"Sign In"),M.Qb(),M.Qb(),M.Rb(17,"div",19),M.Rb(18,"span"),M.Ac(19,"Not a member yet ? "),M.Rb(20,"a",20),M.Zb("click",(function(){return M.sc(n),M.dc().changeMode("register")})),M.Ac(21,"Sign Up"),M.Qb(),M.Qb(),M.Qb(),M.Qb()}if(2&e){var i=M.dc();M.Ab(9),M.ic("ngModel",i.email),M.Ab(2),M.ic("type",i.passwordInputType)("ngModel",i.password)("type",i.show?"text":"password"),M.Ab(2),M.ic("src","../../assets/images/autorization/"+(i.show?"eye-icon.svg":"eye-open.svg"),M.uc)}}var G,Z,B=[{path:"",component:(G=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.route=t,this.authService=n,this.router=i,this.serv=r,this.loaderservice=o,this.loaderId="login-register",this.show=!1,this.mode="login",this.passwordInputType="text",this.email="Email Address",this.password="Password",this.firstName="First Name",this.lastName="Last Name"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.mode=t.mode})),this.authService.authState.subscribe((function(t){e.user=t,e.loggedIn=null!=t})),this.serv.currentUserObj.subscribe((function(t){null==t&&e.logout()}))}},{key:"passwordChanged",value:function(e){"input"===e&&(this.passwordInputType="password"),"focusin"===e&&"Password"===this.password&&(this.password=""),"focusout"===e&&""===this.password&&(this.password="Password",this.passwordInputType="text")}},{key:"emailChanged",value:function(e){"focusin"===e&&"Email Address"===this.email&&(this.email=""),"focusout"===e&&""===this.email&&(this.email="Email Address")}},{key:"firstNameChanged",value:function(e){"focusin"===e&&"First Name"===this.firstName&&(this.firstName=""),"focusout"===e&&""===this.firstName&&(this.firstName="First Name")}},{key:"lastNameChanged",value:function(e){"focusin"===e&&"Last Name"===this.lastName&&(this.lastName=""),"focusout"===e&&""===this.lastName&&(this.lastName="Last Name")}},{key:"loginWithFacebook",value:function(){var e=this;FB.login((function(t){if(!t.authResponse)throw"FB error";console.log("response.authResponse: ",t.authResponse),FB.api("/me",{fields:"name,email"},(function(t){console.log("response: ",t);var n={email:t.email,firstName:t.name,lastName:"",passwordSalt:t.id,fbId:t.id,isSocialLogin:!0,socialLoginType:"facebook"};e.serv.httpPost("users/add-new-user",n).subscribe((function(t){console.log("res: ",t),!1===t.error&&t.result?L.a.fire({title:"Account Created",icon:"success"}):!0===t.error&&"user-already-exists"===t.code?L.a.fire({title:"User Logged in",icon:"success"}).then((function(){e.serv.publishUserLogin(n)})):L.a.fire({title:"Error creating account",text:t.err,icon:"error"})}),(function(e){L.a.fire({title:"Error creating account",text:e,icon:"error"})}))}))}),{scope:"email"})}},{key:"signInWithGoogle",value:function(){var e=this;this.authService.signIn(E.PROVIDER_ID).then((function(t){console.log("res: ",t);var n={email:t.email,firstName:t.firstName,lastName:t.lastName,passwordSalt:t.id,googleId:t.id,isSocialLogin:!0,socialLoginType:"google"};e.serv.httpPost("users/add-new-user",n).subscribe((function(t){console.log("res: ",t),!1===t.error&&t.result?L.a.fire({title:"Account Created",icon:"success"}):!0===t.error&&"user-already-exists"===t.code?L.a.fire({title:"User Logged in",icon:"success"}).then((function(){e.serv.publishUserLogin(n)})):L.a.fire({title:"Error creating account",text:t.err,icon:"error"})}),(function(e){L.a.fire({title:"Error creating account",text:e,icon:"error"})}))})).catch((function(e){throw e}))}},{key:"signOut",value:function(){this.authService.signOut()}},{key:"signInHelper",value:function(){var e=this;this.loaderservice.start(this.loaderId,"login-register");var t=this.validateSignIn();console.log("validObj: ",t),!0===t.isValid?this.serv.httpPost("users/sign-in-user",{passwordSalt:this.password,email:this.email}).subscribe((function(t){console.log("res: ",t),e.loaderservice.stop(e.loaderId,"login-register"),!1===t.error&&"user-valid"==t.result?L.a.fire({title:"User Logged in",icon:"success"}).then((function(){e.serv.publishUserLogin(t.user),e.router.navigate(["/home"])})):L.a.fire({title:"Error",text:t.err,icon:"error"})}),(function(t){L.a.fire({title:"Error Logging in",text:t.err,icon:"error"}),e.loaderservice.stop(e.loaderId,"login-register")})):L.a.fire({text:t.text})}},{key:"signUpHelper",value:function(){var e=this;this.loaderservice.start(this.loaderId,"login-register");var t=this.validateSignUp();console.log("validObj: ",t),!0===t.isValid?this.serv.httpPost("users/add-new-user",{firstName:this.firstName,lastName:this.lastName,passwordSalt:this.password,email:this.email}).subscribe((function(t){console.log("res: ",t),e.loaderservice.stop(e.loaderId,"login-register"),L.a.fire(!1===t.error&&t.result?{title:"Account Created",icon:"success"}:{title:"Error creating account",text:t.err,icon:"error"})}),(function(t){e.loaderservice.stop(e.loaderId,"login-register"),L.a.fire({title:"Error creating account",text:t,icon:"error"})})):L.a.fire({text:t.text})}},{key:"changeMode",value:function(e){this.email="Email Address",this.password="Password",this.passwordInputType="text",this.router.navigate(["/login-register",e])}},{key:"validateSignIn",value:function(){var e={text:"",isValid:!0};return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.email).toLowerCase())?0===this.password.length||"Password"===this.password?(e.isValid=!1,e.text="Please enter password",e):e:(e.isValid=!1,e.text="Invalid email format !",e)}},{key:"validateSignUp",value:function(){var e={text:"",isValid:!0};return""===this.firstName||"First Name"===this.firstName?(e.isValid=!1,e.text="Please enter first name !",e):""===this.lastName||"Last Name"===this.lastName?(e.isValid=!1,e.text="Please enter last name !",e):this.firstName===this.lastName?(e.isValid=!1,e.text="First name and last name cannot be the same !",e):/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.email).toLowerCase())?this.password.length<6||!1===/.*[0-9].*/.test(this.password)?(e.isValid=!1,e.text="Password length must be atleast 6 and must contain a digit !",e):e:(e.isValid=!1,e.text="Invalid email format !",e)}},{key:"logout",value:function(){FB.getLoginStatus((function(e){e&&"connected"===e.status&&FB.logout((function(e){}))})),this.authService.signOut(!0)}},{key:"showPassword",value:function(){this.show=!this.show}}]),e}(),G.\u0275fac=function(e){return new(e||G)(M.Lb(u.a),M.Lb(R),M.Lb(u.f),M.Lb(Q.a),M.Lb(T.a))},G.\u0275cmp=M.Fb({type:G,selectors:[["app-login-register"]],decls:7,vars:5,consts:[[3,"loaderId"],[1,"login-register-wrapper"],["class","page-title",4,"ngIf"],[1,"content-wrapper"],["class","register-wrapper",4,"ngIf"],["class","login-wrapper",4,"ngIf"],[1,"page-title"],[1,"register-wrapper"],[1,"a-row"],[1,"btn-facebook",3,"click"],[1,"btn-google",3,"click"],["type","text",1,"input-first-name",3,"ngModel","input","focusin","focusout","ngModelChange"],["type","text",1,"input-last-name",3,"ngModel","input","focusin","focusout","ngModelChange"],["type","text",1,"input-email",3,"ngModel","ngModelChange","input","focusin","focusout"],[1,"a-row","password-toggle"],[1,"input-password",3,"type","ngModel","ngModelChange","input","focusin","focusout"],[1,"password-icon"],["alt","",3,"src","click"],[1,"btn-signin",3,"click"],[1,"bottom"],[1,"mode-change-link",3,"click"],[1,"login-wrapper"],[1,"btn-signup",3,"click"]],template:function(e,t){1&e&&(M.Rb(0,"app-loader",0),M.Rb(1,"div",1),M.yc(2,V,2,0,"p",2),M.yc(3,j,2,0,"p",2),M.Rb(4,"div",3),M.yc(5,F,25,7,"div",4),M.yc(6,D,22,5,"div",5),M.Qb(),M.Qb(),M.Qb()),2&e&&(M.ic("loaderId",t.loaderId),M.Ab(2),M.ic("ngIf","register"==t.mode),M.Ab(1),M.ic("ngIf","login"==t.mode),M.Ab(2),M.ic("ngIf","register"==t.mode),M.Ab(1),M.ic("ngIf","login"==t.mode))},directives:[z.a,c.j,U.a,U.f,U.i],styles:["*[_ngcontent-%COMP%]{font-size:1.6rem}.login-register-wrapper[_ngcontent-%COMP%]{font-family:Montserrat;font-size:1.6rem;margin:2rem 0;min-height:70vh}.login-register-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{text-align:center;font-size:2.4rem;margin:3rem 0;font-weight:700}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{max-width:320px;margin:0 auto}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .a-row[_ngcontent-%COMP%]{margin:1rem 0}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:relative}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   .password-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:15px}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   .password-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;height:15px;margin-right:8px}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]{font-family:Montserrat;background-color:#3b5998;border:1px solid #324b80;width:100%;color:#fff;font-weight:700;padding:1rem;border-radius:5px;cursor:pointer}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]{font-family:Montserrat;background-color:#fff;border:1px solid #d3d3d3;width:100%;color:grey;font-weight:700;padding:1rem;border-radius:5px;cursor:pointer}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .input-email[_ngcontent-%COMP%], .login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .input-first-name[_ngcontent-%COMP%], .login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .input-last-name[_ngcontent-%COMP%], .login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .input-password[_ngcontent-%COMP%]{width:100%;padding:1rem;border:1px solid #d3d3d3;border-radius:5px;font-family:Montserrat;font-size:1.6rem}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .input-first-name[_ngcontent-%COMP%]{width:calc(50% - 20px)}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .input-last-name[_ngcontent-%COMP%]{margin-left:20px;width:50%}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .btn-signin[_ngcontent-%COMP%], .login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .btn-signup[_ngcontent-%COMP%]{font-family:Montserrat;background-color:#0af;border:none;width:100%;color:#fff;font-weight:700;padding:1rem;border-radius:5px;cursor:pointer}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{text-align:center;font-size:1.4rem;margin-top:3rem}.login-register-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .mode-change-link[_ngcontent-%COMP%]{color:#0af;font-weight:700;text-decoration:underline;cursor:pointer}hr[_ngcontent-%COMP%]{margin:2rem 0}"]}),G)}],W=((Z=function e(){_classCallCheck(this,e)}).\u0275mod=M.Jb({type:Z}),Z.\u0275inj=M.Ib({factory:function(e){return new(e||Z)},imports:[[u.h.forChild(B)],u.h]}),Z),Y=n("PCNd");n.d(t,"provideConfig",(function(){return J})),n.d(t,"LoginRegisterModule",(function(){return X}));var H=new I([{id:E.PROVIDER_ID,provider:new E("560099373222-2lvj2chopclld2jjss7tpnftl23dutup.apps.googleusercontent.com")}]);function J(){return H}var q,X=((q=function e(){_classCallCheck(this,e)}).\u0275mod=M.Jb({type:q}),q.\u0275inj=M.Ib({factory:function(e){return new(e||q)},providers:[{provide:I,useFactory:J}],imports:[[c.b,W,U.b,x,Y.a]]}),q)}}]);